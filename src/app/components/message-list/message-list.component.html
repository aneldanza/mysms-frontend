<div *ngIf="loading" class="text-center text-gray-500">Loading messages...</div>
<div *ngIf="error" class="text-red-500 text-center">{{ error }}</div>

<ul *ngIf="messages.length" class="space-y-4">
  <li *ngFor="let msg of messages" class="border p-4 rounded shadow">
    <div class="text-sm text-gray-500">
      {{ msg.created_at | date : "short" }}
    </div>
    <div class="font-medium">To: {{ msg.to }}</div>
    <div class="text-gray-800">{{ msg.body }}</div>
    <div class="mt-2 text-sm font-semibold">
      Status:
      <span
        [ngClass]="{
          'text-green-600': msg.status === 'delivered',
          'text-yellow-600': msg.status === 'sent' || msg.status === 'sending',
          'text-blue-600': msg.status === 'queued',
          'text-red-600':
            msg.status === 'undelivered' || msg.status === 'failed',
          'text-gray-500': !msg.status
        }"
      >
        {{ msg.status || "pending" }}
      </span>
    </div>
  </li>
</ul>

<div
  *ngIf="!loading && messages.length === 0"
  class="text-center text-gray-500"
>
  No messages sent yet.
</div>
